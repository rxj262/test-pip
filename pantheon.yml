api_version: 1
build_step: false

workflows:
  deploy:
    after:
      - type: webphp
        description: Import configuration from .yml files
        script: private/scripts/drush_config_import/drush_config_import.php
      - type: webphp
        description: Post to Slack after code commit
        script: private/scripts/slack_notification.php
  sync_code:
    after:
      - type: webphp
        description: Import configuration from .yml files
        script: private/scripts/drush_config_import/drush_config_import.php
      - type: webphp
        description: Post to Slack after code commit
        script: private/scripts/slack_notification.php
  clone_database:
    after:
      - type: webphp
        description: Clear cache on destination site after DB copy
        script: private/scripts/drush_cr.php
  create_cloud_development_environment:
    after:
      - type: webphp
        description: Post to Slack after Multidev creation
        script: private/scripts/slack_notification.php
